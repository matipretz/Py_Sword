<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ver Contraseñas</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.classless.min.css" />
    <link rel="stylesheet" href="../static/css/modal.css" />


</head>
<body>
    <h1>Contraseñas almacenadas</h1>
    <table border="1">
        <tr>
            <th>ID</th>
            <th>Servicio</th>
            <th>Usuario</th>
            <th>Contraseña</th>
            <th>Acciones</th>
        </tr>

        {% for contrasena in contrasenas %}
        <tr>
            <td> {{ contrasena[0] }} </td>
            <td> {{ contrasena[1] }} </td>
            <td> {{ contrasena[2] }} </td>
            <td> <input type="password" value="{{ contrasena[3] }}" class="contrasena-fila" readonly>
            </td>
            <td><button type="button" class="toggle-btn" onclick="togglePassword(this)">Mostrar/ocultar</button>
                <button type="button" class="copy-btn" onclick="copyToClipboard(this)" disabled>Copiar</button>
                <button type="button" class="delete-btn" data-id="{{ contrasena[0] }}"
                    onclick="deleteRow(this)">Borrar</button>
                <button onclick="abrirModal({{ contrasena[0] }})">Editar</button>

            </td>
        </tr>
        {% endfor %}
    </table>

    <div id="editarModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="cerrarModal()">&times;</span>
            <iframe id="editarFrame" width="100%" height="400px" frameborder="1"></iframe>
        </div>
    </div>
    <br>
    <a href="/">Volver al inicio</a>
    <script src="../static/js/scripts.js"></script>

</body>
</html>